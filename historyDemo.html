<!DOCTYPE HTML>
<title>Page - 0</title>
<p>
	currentï¼š <span id="curNum">0</span>
</p>
<p>
	<a href="?page=-1" onclick="go(-1); return false;">back to -1</a>  or  <a href="?page=1" onclick="go(1); return false;">go to 1</a>
</p>
<script>
	var reg = /page=(\d+)/,
 		regMatch = reg.exec(location.search),
 		currentPage = regMatch === null ? 1 : +regMatch[1];
 	setupPage(currentPage);

	window.onpopstate = function(e){
 		var state = e.state;
 		console.log(state);
 		setupPage(state);
 	}

	function go(d) {
		setupPage(currentPage + d);
		history.pushState(currentPage, document.title, '?page=' + currentPage);
	}
 	function setupPage(page) {
		currentPage = page;
		document.title = 'Page - ' + currentPage;
		document.getElementById('curNum').textContent = currentPage;
		document.links[0].href = '?page=' + (currentPage-1);
		document.links[0].textContent = 'back to ' + (currentPage-1);
		document.links[1].href = '?page=' + (currentPage+1);
		document.links[1].textContent = 'go to ' + (currentPage+1);
 	}
</script>